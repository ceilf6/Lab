<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // Node.js
        // import crypto from 'crypto';
        // const hash = crypto
        //     .createHash('md5')
        //     .update('hello')
        //     .digest('hex');

        // console.log(hash);


        // 或者 npm i md5
        // const md5 = require('md5');
        // const origin = 'hello';
        // console.log(md5(origin));


        async function hash(text) {
            const encoder = new TextEncoder();
            const data = encoder.encode(text);

            const buffer = await crypto.subtle.digest('SHA-256', data);
            const hashArray = Array.from(new Uint8Array(buffer));
            const hashHex = hashArray
                .map(b => b.toString(16).padStart(2, '0'))
                .join('');

            console.log(hashHex);
        }

        hash('hello');
    </script>
</body>

</html>