<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vue Computed 示例</title>
  <script src="./vue.min.js"></script>
</head>
<body>
  <div id="app">
    <h1>{{ a }}</h1>
    <h1>{{ b }}</h1>

    <h1>{{ com }}</h1>
    <h1>{{ com }}</h1>
    <h1>{{ com }}</h1>
    
    <h1>{{ getCom() }}</h1>
    <h1>{{ getCom() }}</h1>
    <h1>{{ getCom() }}</h1>

    <button @click="changeName('ceilf7')">修改名字</button>
    <button @click="com = 'You\'er ceilf8'">直接修改computed</button>
    <!-- 直接调用 set 函数，没有 get -->
    <!-- 没有改动依赖项，不会导致重新渲染 -->
  </div>

  <script>
    new Vue({
      el: '#app',
      data() {
        return {
          a: "I'm",
          b: "ceilf6",
        };
      },
      computed: {
        com: {
          get() {
            console.log("computed");
            return this.a + " " + this.b;
          },
          set(val) {
            console.log("直接修改computed");
            strs = val.split(" ")
            this.a = strs[0]
            this.b = strs[1]
          },
        },
      },
      methods: {
        getCom() {
          console.log("methods called");
          return this.a + " " + this.b;
        },
        changeName(newB) {
          this.b = newB;
        },
      },
    });
  </script>
</body>
</html>
